-- Criação do DB para CINEMA! Contém tabelas: Filmes, Clientes, Screenings, Salas, Assentos, Assentos Reservados e Reservas 
CREATE DATABASE cinemaDb;
USE cinemaDb;

-- tabela de filmes
CREATE TABLE films(
	id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(45) NOT NULL UNIQUE,
    length_min INT NOT NULL
);
-- Tabela customers / clientes
CREATE TABLE customers(
id INT PRIMARY KEY AUTO_INCREMENT,
first_name VARCHAR(45) NOT NULL,
last_name VARCHAR(45) NOT NULL,
email VARCHAR(50) NOT NULL UNIQUE
);

SHOW TABLES;
DESCRIBE customers;
SELECT * FROM customers;

-- tabela para salas de cinema
CREATE TABLE rooms(
 id INT PRIMARY KEY AUTO_INCREMENT,
 name VARCHAR(45) NOT NULL UNIQUE,
 number_seats INT NOT NULL
);
SHOW TABLES;
DESCRIBE rooms;
SELECT * FROM rooms;

-- tabela de screenings/ telões
CREATE TABLE screenings(
id INT AUTO_INCREMENT PRIMARY KEY,
film_id INT NOT NULL,
room_id INT NOT NULL,
start_time DATETIME NOT NULL,
-- chaves estrangeiras 
FOREIGN KEY (film_id) REFERENCES films(id),
FOREIGN KEY (room_id) REFERENCES rooms(id)
);
